{"version":3,"file":"index.js","sources":["../src/utils/sameURL.ts","../src/utils/getAnchorProperty.ts","../src/AppProgressBar.tsx","../src/WithSuspense.tsx","../src/PagesProgressBar.tsx","../src/index.tsx"],"sourcesContent":["export function isSameURL(target: URL, current: URL) {\r\n  const cleanTarget =\r\n    target.protocol + '//' + target.host + target.pathname + target.search;\r\n  const cleanCurrent =\r\n    current.protocol + '//' + current.host + current.pathname + current.search;\r\n\r\n  return cleanTarget === cleanCurrent;\r\n}\r\n\r\nexport function isSameURLWithoutSearch(target: URL, current: URL) {\r\n  const cleanTarget = target.protocol + '//' + target.host + target.pathname;\r\n  const cleanCurrent =\r\n    current.protocol + '//' + current.host + current.pathname;\r\n\r\n  return cleanTarget === cleanCurrent;\r\n}\r\n","function parsePath(path: string) {\r\n  const hashIndex = path.indexOf('#');\r\n  const queryIndex = path.indexOf('?');\r\n  const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex);\r\n\r\n  if (hasQuery || hashIndex > -1) {\r\n    return {\r\n      pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\r\n      query: hasQuery\r\n        ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined)\r\n        : '',\r\n      hash: hashIndex > -1 ? path.slice(hashIndex) : '',\r\n    };\r\n  }\r\n\r\n  return { pathname: path, query: '', hash: '' };\r\n}\r\n\r\nfunction addPathPrefix(path: string, prefix?: string) {\r\n  if (!path.startsWith('/') || !prefix) {\r\n    return path;\r\n  }\r\n\r\n  const { pathname, query, hash } = parsePath(path);\r\n  return `${prefix}${pathname}${query}${hash}`;\r\n}\r\n\r\nexport function getAnchorProperty<\r\n  T extends HTMLAnchorElement | SVGAElement,\r\n  K extends keyof T,\r\n  P extends T[K],\r\n>(a: T, key: K): P extends SVGAnimatedString ? string : P {\r\n  if (typeof key === 'string' && key === 'data-disable-nprogress') {\r\n    const dataKey = key.substring(5) as keyof DOMStringMap;\r\n    return a.dataset[dataKey] as any;\r\n  }\r\n\r\n  const prop = a[key];\r\n\r\n  if (prop instanceof SVGAnimatedString) {\r\n    const value = prop.baseVal as unknown;\r\n\r\n    if (key === 'href') {\r\n      return addPathPrefix(value as string, location.origin) as any;\r\n    }\r\n\r\n    return value as any;\r\n  }\r\n\r\n  return prop as any;\r\n}\r\n","'use client';\r\n\r\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport { isSameURL, isSameURLWithoutSearch } from './utils/sameURL';\r\nimport {\r\n\tusePathname,\r\n\tuseSearchParams,\r\n\tuseRouter as useNextRouter,\r\n} from 'next/navigation';\r\nimport { ProgressBarProps, RouterNProgressOptions } from '.';\r\nimport { getAnchorProperty } from './utils/getAnchorProperty';\r\nimport {\r\n\ttype AppRouterInstance,\r\n\tNavigateOptions,\r\n} from 'next/dist/shared/lib/app-router-context.shared-runtime';\r\n\r\ntype PushStateInput = [\r\n\tdata: any,\r\n\tunused: string,\r\n\turl?: string | URL | null | undefined,\r\n];\r\n\r\nexport const AppProgressBar = React.memo(\r\n\t({\r\n\t\tcolor = '#0A2FFF',\r\n\t\theight = '2px',\r\n\t\toptions,\r\n\t\tshallowRouting = false,\r\n\t\tdisableSameURL = true,\r\n\t\tstartPosition = 0,\r\n\t\tdelay = 0,\r\n\t\tstopDelay = 0,\r\n\t\tstyle,\r\n\t\tnonce,\r\n\t\ttargetPreprocessor,\r\n\t\tdisableAnchorClick = false,\r\n\t}: ProgressBarProps) => {\r\n\t\tconst styles = style == null ? null : (\r\n\t\t\t<style nonce={nonce}>\r\n\t\t\t\t{style ||\r\n\t\t\t\t\t`\r\n          #nprogress {\r\n            pointer-events: none;\r\n          }\r\n\r\n          #nprogress .bar {\r\n            background: ${color};\r\n\r\n            position: fixed;\r\n            z-index: 99999;\r\n            top: 0;\r\n            left: 0;\r\n\r\n            width: 100%;\r\n            height: ${height};\r\n          }\r\n\r\n          /* Fancy blur effect */\r\n          #nprogress .peg {\r\n            display: block;\r\n            position: absolute;\r\n            right: 0px;\r\n            width: 100px;\r\n            height: 100%;\r\n            box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\r\n            opacity: 1.0;\r\n\r\n            -webkit-transform: rotate(3deg) translate(0px, -4px);\r\n                -ms-transform: rotate(3deg) translate(0px, -4px);\r\n                    transform: rotate(3deg) translate(0px, -4px);\r\n          }\r\n\r\n          /* Remove these to get rid of the spinner */\r\n          #nprogress .spinner {\r\n            display: block;\r\n            position: fixed;\r\n            z-index: 1031;\r\n            top: 15px;\r\n            right: 15px;\r\n          }\r\n\r\n          #nprogress .spinner-icon {\r\n            width: 18px;\r\n            height: 18px;\r\n            box-sizing: border-box;\r\n\r\n            border: solid 2px transparent;\r\n            border-top-color: ${color};\r\n            border-left-color: ${color};\r\n            border-radius: 50%;\r\n\r\n            -webkit-animation: nprogress-spinner 400ms linear infinite;\r\n                    animation: nprogress-spinner 400ms linear infinite;\r\n          }\r\n\r\n          .nprogress-custom-parent {\r\n            overflow: hidden;\r\n            position: relative;\r\n          }\r\n\r\n          .nprogress-custom-parent #nprogress .spinner,\r\n          .nprogress-custom-parent #nprogress .bar {\r\n            position: absolute;\r\n          }\r\n\r\n          @-webkit-keyframes nprogress-spinner {\r\n            0%   { -webkit-transform: rotate(0deg); }\r\n            100% { -webkit-transform: rotate(360deg); }\r\n          }\r\n          @keyframes nprogress-spinner {\r\n            0%   { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}\r\n\t\t\t</style>\r\n\t\t);\r\n\r\n\t\tNProgress.configure(options || {});\r\n\r\n\t\tlet progressDoneTimer: NodeJS.Timeout;\r\n\r\n\t\tconst pathname = usePathname();\r\n\t\tconst searchParams = useSearchParams();\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tif (progressDoneTimer) clearTimeout(progressDoneTimer);\r\n\t\t\tprogressDoneTimer = setTimeout(() => {\r\n\t\t\t\tNProgress.done();\r\n\t\t\t}, stopDelay);\r\n\t\t}, [pathname, searchParams]);\r\n\r\n\t\tconst elementsWithAttachedHandlers = useRef<\r\n\t\t\t(HTMLAnchorElement | SVGAElement)[]\r\n\t\t>([]);\r\n\t\tuseEffect(() => {\r\n\t\t\tif (disableAnchorClick) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet timer: NodeJS.Timeout;\r\n\r\n\t\t\tconst startProgress = () => {\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tif (startPosition > 0) NProgress.set(startPosition);\r\n\t\t\t\t\tNProgress.start();\r\n\t\t\t\t}, delay);\r\n\t\t\t};\r\n\r\n\t\t\tconst stopProgress = () => {\r\n\t\t\t\tif (timer) clearTimeout(timer);\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tif (!NProgress.isStarted()) return;\r\n\t\t\t\t\tNProgress.done();\r\n\t\t\t\t}, stopDelay);\r\n\t\t\t};\r\n\r\n\t\t\tconst handleAnchorClick = (event: MouseEvent) => {\r\n\t\t\t\t// Skip preventDefault\r\n\t\t\t\tif (event.defaultPrevented) return;\r\n\r\n\t\t\t\tconst anchorElement = event.currentTarget as\r\n\t\t\t\t\t| HTMLAnchorElement\r\n\t\t\t\t\t| SVGAElement;\r\n\t\t\t\tconst target = event.target as HTMLElement | Element;\r\n\t\t\t\tlet preventProgress =\r\n\t\t\t\t\ttarget?.getAttribute('data-prevent-nprogress') === 'true' ||\r\n\t\t\t\t\tanchorElement?.getAttribute('data-prevent-nprogress') === 'true';\r\n\r\n\t\t\t\tif (!preventProgress) {\r\n\t\t\t\t\tlet element: HTMLElement | Element | null = target;\r\n\r\n\t\t\t\t\twhile (element && element.tagName.toLowerCase() !== 'a') {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\telement.parentElement?.getAttribute('data-prevent-nprogress') ===\r\n\t\t\t\t\t\t\t'true'\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tpreventProgress = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telement = element.parentElement;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (preventProgress) return;\r\n\r\n\t\t\t\tconst anchorTarget = getAnchorProperty(anchorElement, 'target');\r\n\t\t\t\t// Skip anchors with target=\"_blank\"\r\n\t\t\t\tif (anchorTarget === '_blank') return;\r\n\r\n\t\t\t\t// Skip control/command/option/alt+click\r\n\t\t\t\tif (event.metaKey || event.ctrlKey || event.shiftKey || event.altKey)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tconst targetHref = getAnchorProperty(anchorElement, 'href');\r\n\t\t\t\tconst targetUrl = targetPreprocessor\r\n\t\t\t\t\t? targetPreprocessor(new URL(targetHref))\r\n\t\t\t\t\t: new URL(targetHref);\r\n\t\t\t\tconst currentUrl = new URL(location.href);\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tshallowRouting &&\r\n\t\t\t\t\tisSameURLWithoutSearch(targetUrl, currentUrl) &&\r\n\t\t\t\t\tdisableSameURL\r\n\t\t\t\t)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tif (isSameURL(targetUrl, currentUrl) && disableSameURL) return;\r\n\r\n\t\t\t\tstartProgress();\r\n\t\t\t};\r\n\r\n\t\t\tconst handleMutation: MutationCallback = () => {\r\n\t\t\t\tconst anchorElements = Array.from(document.querySelectorAll('a')) as (\r\n\t\t\t\t\t| HTMLAnchorElement\r\n\t\t\t\t\t| SVGAElement\r\n\t\t\t\t)[];\r\n\r\n\t\t\t\tconst validAnchorElements = anchorElements.filter((anchor) => {\r\n\t\t\t\t\tconst href = getAnchorProperty(anchor, 'href');\r\n\t\t\t\t\tconst isNProgressDisabled =\r\n\t\t\t\t\t\tanchor.getAttribute('data-disable-nprogress') === 'true';\r\n\t\t\t\t\tconst isNotTelOrMailto =\r\n\t\t\t\t\t\thref &&\r\n\t\t\t\t\t\t!href.startsWith('tel:') &&\r\n\t\t\t\t\t\t!href.startsWith('mailto:') &&\r\n\t\t\t\t\t\t!href.startsWith('blob:') &&\r\n\t\t\t\t\t\t!href.startsWith('javascript:');\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t!isNProgressDisabled &&\r\n\t\t\t\t\t\tisNotTelOrMailto &&\r\n\t\t\t\t\t\tgetAnchorProperty(anchor, 'target') !== '_blank'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvalidAnchorElements.forEach((anchor) => {\r\n\t\t\t\t\tanchor.addEventListener('click', handleAnchorClick, true);\r\n\t\t\t\t});\r\n\t\t\t\telementsWithAttachedHandlers.current = validAnchorElements;\r\n\t\t\t};\r\n\r\n\t\t\tconst mutationObserver = new MutationObserver(handleMutation);\r\n\t\t\tmutationObserver.observe(document, { childList: true, subtree: true });\r\n\r\n\t\t\tconst originalWindowHistoryPushState = window.history.pushState;\r\n\t\t\twindow.history.pushState = new Proxy(window.history.pushState, {\r\n\t\t\t\tapply: (target, thisArg, argArray: PushStateInput) => {\r\n\t\t\t\t\tstopProgress();\r\n\t\t\t\t\treturn target.apply(thisArg, argArray);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tmutationObserver.disconnect();\r\n\t\t\t\telementsWithAttachedHandlers.current.forEach((anchor) => {\r\n\t\t\t\t\tanchor.removeEventListener('click', handleAnchorClick, true);\r\n\t\t\t\t});\r\n\t\t\t\telementsWithAttachedHandlers.current = [];\r\n\t\t\t\twindow.history.pushState = originalWindowHistoryPushState;\r\n\t\t\t};\r\n\t\t}, [\r\n\t\t\tdisableAnchorClick,\r\n\t\t\ttargetPreprocessor,\r\n\t\t\tshallowRouting,\r\n\t\t\tdisableSameURL,\r\n\t\t]);\r\n\r\n\t\treturn styles;\r\n\t},\r\n\t(prevProps, nextProps) => {\r\n\t\tif (nextProps?.memo === false) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!nextProps?.shouldCompareComplexProps) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\tprevProps?.color === nextProps?.color &&\r\n\t\t\tprevProps?.height === nextProps?.height &&\r\n\t\t\tprevProps?.shallowRouting === nextProps?.shallowRouting &&\r\n\t\t\tprevProps?.startPosition === nextProps?.startPosition &&\r\n\t\t\tprevProps?.delay === nextProps?.delay &&\r\n\t\t\tprevProps?.disableSameURL === nextProps?.disableSameURL &&\r\n\t\t\tprevProps?.stopDelay === nextProps?.stopDelay &&\r\n\t\t\tprevProps?.nonce === nextProps?.nonce &&\r\n\t\t\tJSON.stringify(prevProps?.options) ===\r\n\t\t\tJSON.stringify(nextProps?.options) &&\r\n\t\t\tprevProps?.style === nextProps?.style &&\r\n\t\t\tprevProps.disableAnchorClick === nextProps.disableAnchorClick\r\n\t\t);\r\n\t},\r\n);\r\n\r\nAppProgressBar.displayName = 'AppProgressBar';\r\n\r\nexport function useRouter(customRouter?: () => AppRouterInstance) {\r\n\tconst useSelectedRouter = useCallback(() => {\r\n\t\tif (customRouter) return customRouter();\r\n\t\treturn useNextRouter();\r\n\t}, [customRouter]);\r\n\r\n\tconst router = useSelectedRouter();\r\n\r\n\tconst startProgress = useCallback(\r\n\t\t(startPosition?: number) => {\r\n\t\t\tif (startPosition && startPosition > 0) NProgress.set(startPosition);\r\n\t\t\tNProgress.start();\r\n\t\t},\r\n\t\t[router],\r\n\t);\r\n\r\n\tconst progress = useCallback(\r\n\t\t(\r\n\t\t\thref: string,\r\n\t\t\toptions?: NavigateOptions,\r\n\t\t\tNProgressOptions?: RouterNProgressOptions,\r\n\t\t) => {\r\n\t\t\tif (NProgressOptions?.showProgressBar === false) {\r\n\t\t\t\treturn router.push(href, options);\r\n\t\t\t}\r\n\r\n\t\t\tconst currentUrl = new URL(location.href);\r\n\t\t\tconst targetUrl = new URL(href, location.href);\r\n\r\n\t\t\tif (\r\n\t\t\t\tisSameURL(targetUrl, currentUrl) &&\r\n\t\t\t\tNProgressOptions?.disableSameURL !== false\r\n\t\t\t)\r\n\t\t\t\treturn router.push(href, options);\r\n\r\n\t\t\tstartProgress(NProgressOptions?.startPosition);\r\n\t\t},\r\n\t\t[router],\r\n\t);\r\n\r\n\tconst push = useCallback(\r\n\t\t(\r\n\t\t\thref: string,\r\n\t\t\toptions?: NavigateOptions,\r\n\t\t\tNProgressOptions?: RouterNProgressOptions,\r\n\t\t) => {\r\n\t\t\tprogress(href, options, NProgressOptions);\r\n\t\t\treturn router.push(href, options);\r\n\t\t},\r\n\t\t[router, startProgress],\r\n\t);\r\n\r\n\tconst replace = useCallback(\r\n\t\t(\r\n\t\t\thref: string,\r\n\t\t\toptions?: NavigateOptions,\r\n\t\t\tNProgressOptions?: RouterNProgressOptions,\r\n\t\t) => {\r\n\t\t\tprogress(href, options, NProgressOptions);\r\n\t\t\treturn router.replace(href, options);\r\n\t\t},\r\n\t\t[router, startProgress],\r\n\t);\r\n\r\n\tconst back = useCallback(\r\n\t\t(NProgressOptions?: RouterNProgressOptions) => {\r\n\t\t\tif (NProgressOptions?.showProgressBar === false) return router.back();\r\n\r\n\t\t\tstartProgress(NProgressOptions?.startPosition);\r\n\r\n\t\t\treturn router.back();\r\n\t\t},\r\n\t\t[router],\r\n\t);\r\n\r\n\tconst enhancedRouter = useMemo(() => {\r\n\t\treturn { ...router, push, replace, back };\r\n\t}, [router, push, replace, back]);\r\n\r\n\treturn enhancedRouter;\r\n}\r\n","import React, { ComponentType, Suspense } from 'react';\r\n\r\nexport default function withSuspense<P extends object>(\r\n  Component: ComponentType<P>,\r\n) {\r\n  return function WithSuspenseComponent(props: P) {\r\n    return (\r\n      <Suspense>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport { isSameURL } from './utils/sameURL';\r\nimport Router from 'next/router';\r\nimport { ProgressBarProps } from '.';\r\n\r\nexport const PagesProgressBar = React.memo(\r\n\t({\r\n\t\tcolor = '#0A2FFF',\r\n\t\theight = '2px',\r\n\t\toptions,\r\n\t\tshallowRouting = false,\r\n\t\tdisableSameURL = true,\r\n\t\tstartPosition = 0,\r\n\t\tdelay = 0,\r\n\t\tstopDelay = 0,\r\n\t\tstyle,\r\n\t\tnonce,\r\n\t}: Omit<ProgressBarProps, 'targetPreprocessor' | 'disableAnchorClick'>) => {\r\n\t\tconst styles = style == null ? null : (\r\n\t\t\t<style nonce={nonce}>\r\n\t\t\t\t{style ||\r\n\t\t\t\t\t`\r\n          #nprogress {\r\n            pointer-events: none;\r\n          }\r\n          \r\n          #nprogress .bar {\r\n            background: ${color};\r\n          \r\n            position: fixed;\r\n            z-index: 99999;\r\n            top: 0;\r\n            left: 0;\r\n          \r\n            width: 100%;\r\n            height: ${height};\r\n          }\r\n          \r\n          /* Fancy blur effect */\r\n          #nprogress .peg {\r\n            display: block;\r\n            position: absolute;\r\n            right: 0px;\r\n            width: 100px;\r\n            height: 100%;\r\n            box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\r\n            opacity: 1.0;\r\n          \r\n            -webkit-transform: rotate(3deg) translate(0px, -4px);\r\n                -ms-transform: rotate(3deg) translate(0px, -4px);\r\n                    transform: rotate(3deg) translate(0px, -4px);\r\n          }\r\n          \r\n          /* Remove these to get rid of the spinner */\r\n          #nprogress .spinner {\r\n            display: block;\r\n            position: fixed;\r\n            z-index: 1031;\r\n            top: 15px;\r\n            right: 15px;\r\n          }\r\n          \r\n          #nprogress .spinner-icon {\r\n            width: 18px;\r\n            height: 18px;\r\n            box-sizing: border-box;\r\n          \r\n            border: solid 2px transparent;\r\n            border-top-color: ${color};\r\n            border-left-color: ${color};\r\n            border-radius: 50%;\r\n          \r\n            -webkit-animation: nprogress-spinner 400ms linear infinite;\r\n                    animation: nprogress-spinner 400ms linear infinite;\r\n          }\r\n          \r\n          .nprogress-custom-parent {\r\n            overflow: hidden;\r\n            position: relative;\r\n          }\r\n          \r\n          .nprogress-custom-parent #nprogress .spinner,\r\n          .nprogress-custom-parent #nprogress .bar {\r\n            position: absolute;\r\n          }\r\n          \r\n          @-webkit-keyframes nprogress-spinner {\r\n            0%   { -webkit-transform: rotate(0deg); }\r\n            100% { -webkit-transform: rotate(360deg); }\r\n          }\r\n          @keyframes nprogress-spinner {\r\n            0%   { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}\r\n\t\t\t</style>\r\n\t\t);\r\n\r\n\t\tNProgress.configure(options || {});\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tlet timer: NodeJS.Timeout;\r\n\r\n\t\t\tconst startProgress = () => {\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tif (startPosition > 0) NProgress.set(startPosition);\r\n\t\t\t\t\tNProgress.start();\r\n\t\t\t\t}, delay);\r\n\t\t\t};\r\n\r\n\t\t\tconst stopProgress = () => {\r\n\t\t\t\tif (timer) clearTimeout(timer);\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tif (!NProgress.isStarted()) return;\r\n\t\t\t\t\tNProgress.done(true);\r\n\t\t\t\t}, stopDelay);\r\n\t\t\t};\r\n\r\n\t\t\tconst handleRouteStart = (url: string) => {\r\n\t\t\t\tconst targetUrl = new URL(url, location.href);\r\n\t\t\t\tconst currentUrl = new URL(Router.route, location.href);\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t(!shallowRouting ||\r\n\t\t\t\t\t\t(isSameURL(targetUrl, currentUrl) && !disableSameURL) ||\r\n\t\t\t\t\t\t!isSameURL(targetUrl, currentUrl)) &&\r\n\t\t\t\t\t!NProgress.isStarted()\r\n\t\t\t\t) {\r\n\t\t\t\t\tstartProgress();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst handleRouteDone = () => stopProgress();\r\n\r\n\t\t\tRouter.events.on('routeChangeStart', handleRouteStart);\r\n\t\t\tRouter.events.on('routeChangeComplete', handleRouteDone);\r\n\t\t\tRouter.events.on('routeChangeError', handleRouteDone);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\t// Make sure to remove the event handler on unmount!\r\n\t\t\t\tRouter.events.off('routeChangeStart', handleRouteStart);\r\n\t\t\t\tRouter.events.off('routeChangeComplete', handleRouteDone);\r\n\t\t\t\tRouter.events.off('routeChangeError', handleRouteDone);\r\n\t\t\t};\r\n\t\t}, []);\r\n\r\n\t\treturn styles;\r\n\t},\r\n\t(prevProps, nextProps) => {\r\n\t\tif (nextProps?.memo === false) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!nextProps?.shouldCompareComplexProps) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\tprevProps?.color === nextProps?.color &&\r\n\t\t\tprevProps?.height === nextProps?.height &&\r\n\t\t\tprevProps?.shallowRouting === nextProps?.shallowRouting &&\r\n\t\t\tprevProps?.startPosition === nextProps?.startPosition &&\r\n\t\t\tprevProps?.delay === nextProps?.delay &&\r\n\t\t\tprevProps?.disableSameURL === nextProps?.disableSameURL &&\r\n\t\t\tprevProps?.stopDelay === nextProps?.stopDelay &&\r\n\t\t\tprevProps?.nonce === nextProps?.nonce &&\r\n\t\t\tJSON.stringify(prevProps?.options) ===\r\n\t\t\tJSON.stringify(nextProps?.options) &&\r\n\t\t\tprevProps?.style === nextProps?.style\r\n\t\t);\r\n\t},\r\n);\r\n\r\nPagesProgressBar.displayName = 'PagesProgressBar';\r\n","import { start, done } from 'nprogress';\r\nimport {\r\n\tAppProgressBar as AppProgressBarComponent,\r\n\tuseRouter,\r\n} from './AppProgressBar';\r\nimport withSuspense from './WithSuspense';\r\n\r\nexport interface NProgressOptions {\r\n\tminimum?: number;\r\n\ttemplate?: string;\r\n\teasing?: string;\r\n\tspeed?: number;\r\n\ttrickle?: boolean;\r\n\ttrickleSpeed?: number;\r\n\tshowSpinner?: boolean;\r\n\tparent?: string;\r\n\tpositionUsing?: string;\r\n\tbarSelector?: string;\r\n\tspinnerSelector?: string;\r\n}\r\n\r\n/**\r\n * @param color Color of the progress bar. @default #0A2FFF\r\n * @param height Height of the progress bar. @default 2px\r\n * @param options NProgress options. @default undefined\r\n * @param shallowRouting If the progress bar is not displayed when you use shallow routing - @default false\r\n * @param startPosition The position of the progress bar at the start of the page load - @default 0\r\n * @param delay When the page loads faster than the progress bar, it does not display - @default 0\r\n * @param stopDelay Delay to stop the progress bar - @default 0\r\n * @param style Custom css - @default undefined\r\n * @param nonce Custom nonce for Content-Security-Policy directives - @default undefined\r\n * @param shouldCompareComplexProps If you want to compare props in the React.memo return - @default false\r\n * @param targetPreprocessor If you want to./AppProgressBaress the target URL - @default undefined\r\n * @param disableAnchorClick Disable triggering progress bar on anchor clicks - @default false\r\n * @param disableSameURL Disable triggering progress bar on the same URL - @default true\r\n */\r\nexport interface ProgressBarProps {\r\n\tcolor?: string;\r\n\theight?: string;\r\n\toptions?: Partial<NProgressOptions>;\r\n\tshallowRouting?: boolean;\r\n\tdisableSameURL?: boolean;\r\n\tstartPosition?: number;\r\n\tdelay?: number;\r\n\tstopDelay?: number;\r\n\tstyle?: string | null;\r\n\tnonce?: string;\r\n\tmemo?: boolean;\r\n\tshouldCompareComplexProps?: boolean;\r\n\ttargetPreprocessor?: (url: URL) => URL;\r\n\tdisableAnchorClick?: boolean;\r\n}\r\n\r\nexport interface RouterNProgressOptions {\r\n\tshowProgressBar?: boolean;\r\n\tstartPosition?: number;\r\n\tdisableSameURL?: boolean;\r\n}\r\n\r\nexport const startProgress = () => {\r\n\tstart();\r\n};\r\n\r\nexport const stopProgress = (force?: boolean) => {\r\n\tdone(force);\r\n};\r\n\r\nconst AppProgressBar = withSuspense<ProgressBarProps>(AppProgressBarComponent);\r\nexport { AppProgressBar, useRouter };\r\nexport { PagesProgressBar } from './PagesProgressBar';\r\n"],"names":["AppProgressBar","usePathname","useSearchParams","useEffect","useRef","useCallback","useNextRouter","useMemo","Suspense","start","done","AppProgressBarComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAgB,SAAA,SAAS,CAAC,MAAW,EAAE,OAAY,EAAA;AACjD,IAAA,IAAM,WAAW,GACf,MAAM,CAAC,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC;AACzE,IAAA,IAAM,YAAY,GAChB,OAAO,CAAC,QAAQ,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC;IAE7E,OAAO,WAAW,KAAK,YAAY,CAAC;AACtC,CAAC;AAEe,SAAA,sBAAsB,CAAC,MAAW,EAAE,OAAY,EAAA;AAC9D,IAAA,IAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC3E,IAAA,IAAM,YAAY,GAChB,OAAO,CAAC,QAAQ,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC;IAE5D,OAAO,WAAW,KAAK,YAAY,CAAC;AACtC;;ACfA,SAAS,SAAS,CAAC,IAAY,EAAA;IAC7B,IAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACpC,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACrC,IAAA,IAAM,QAAQ,GAAG,UAAU,GAAG,CAAC,CAAC,KAAK,SAAS,GAAG,CAAC,IAAI,UAAU,GAAG,SAAS,CAAC,CAAC;AAE9E,IAAA,IAAI,QAAQ,IAAI,SAAS,GAAG,CAAC,CAAC,EAAE;QAC9B,OAAO;AACL,YAAA,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,GAAG,UAAU,GAAG,SAAS,CAAC;AAC9D,YAAA,KAAK,EAAE,QAAQ;AACb,kBAAE,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG,SAAS,CAAC;AACpE,kBAAE,EAAE;AACN,YAAA,IAAI,EAAE,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;SAClD,CAAC;KACH;AAED,IAAA,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AACjD,CAAC;AAED,SAAS,aAAa,CAAC,IAAY,EAAE,MAAe,EAAA;IAClD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;AACpC,QAAA,OAAO,IAAI,CAAC;KACb;AAEK,IAAA,IAAA,EAA4B,GAAA,SAAS,CAAC,IAAI,CAAC,EAAzC,QAAQ,GAAA,EAAA,CAAA,QAAA,EAAE,KAAK,GAAA,EAAA,CAAA,KAAA,EAAE,IAAI,UAAoB,CAAC;IAClD,OAAO,EAAA,CAAA,MAAA,CAAG,MAAM,CAAG,CAAA,MAAA,CAAA,QAAQ,SAAG,KAAK,CAAA,CAAA,MAAA,CAAG,IAAI,CAAE,CAAC;AAC/C,CAAC;AAEe,SAAA,iBAAiB,CAI/B,CAAI,EAAE,GAAM,EAAA;IACZ,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,wBAAwB,EAAE;QAC/D,IAAM,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAuB,CAAC;AACvD,QAAA,OAAO,CAAC,CAAC,OAAO,CAAC,OAAO,CAAQ,CAAC;KAClC;AAED,IAAA,IAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAEpB,IAAA,IAAI,IAAI,YAAY,iBAAiB,EAAE;AACrC,QAAA,IAAM,KAAK,GAAG,IAAI,CAAC,OAAkB,CAAC;AAEtC,QAAA,IAAI,GAAG,KAAK,MAAM,EAAE;YAClB,OAAO,aAAa,CAAC,KAAe,EAAE,QAAQ,CAAC,MAAM,CAAQ,CAAC;SAC/D;AAED,QAAA,OAAO,KAAY,CAAC;KACrB;AAED,IAAA,OAAO,IAAW,CAAC;AACrB;;AC3BO,IAAMA,gBAAc,GAAG,KAAK,CAAC,IAAI,CACvC,UAAC,EAakB,EAAA;AAZlB,IAAA,IAAA,EAAA,GAAA,EAAA,CAAA,KAAiB,EAAjB,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,SAAS,GAAA,EAAA,EACjB,EAAc,GAAA,EAAA,CAAA,MAAA,EAAd,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,EACd,OAAO,GAAA,EAAA,CAAA,OAAA,EACP,EAAA,GAAA,EAAA,CAAA,cAAsB,EAAtB,cAAc,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,GAAA,EAAA,EACtB,EAAqB,GAAA,EAAA,CAAA,cAAA,EAArB,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,GAAA,EAAA,EACrB,EAAiB,GAAA,EAAA,CAAA,aAAA,EAAjB,aAAa,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAC,GAAA,EAAA,EACjB,EAAA,GAAA,EAAA,CAAA,KAAS,EAAT,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EACT,EAAa,GAAA,EAAA,CAAA,SAAA,EAAb,SAAS,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EACb,KAAK,GAAA,EAAA,CAAA,KAAA,EACL,KAAK,WAAA,EACL,kBAAkB,GAAA,EAAA,CAAA,kBAAA,EAClB,EAA0B,GAAA,EAAA,CAAA,kBAAA,EAA1B,kBAAkB,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,CAAA;AAE1B,IAAA,IAAM,MAAM,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,IAClC,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,EAAO,KAAK,EAAE,KAAK,IACjB,KAAK;AACL,QAAA,mIAAA,CAAA,MAAA,CAMqB,KAAK,EAAA,6JAAA,CAAA,CAAA,MAAA,CAQT,MAAM,EAAA,kQAAA,CAAA,CAAA,MAAA,CAUO,KAAK,EAAa,YAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EAuB1B,urBAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EACJ,oCAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EAyB7B,2yBAAA,CAAA,CACE,CACR,CAAC;AAEF,IAAA,SAAS,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;AAEnC,IAAA,IAAI,iBAAiC,CAAC;AAEtC,IAAA,IAAM,QAAQ,GAAGC,sBAAW,EAAE,CAAC;AAC/B,IAAA,IAAM,YAAY,GAAGC,0BAAe,EAAE,CAAC;AAEvC,IAAAC,eAAS,CAAC,YAAA;AACT,QAAA,IAAI,iBAAiB;YAAE,YAAY,CAAC,iBAAiB,CAAC,CAAC;QACvD,iBAAiB,GAAG,UAAU,CAAC,YAAA;YAC9B,SAAS,CAAC,IAAI,EAAE,CAAC;SACjB,EAAE,SAAS,CAAC,CAAC;AACf,KAAC,EAAE,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC,CAAC;AAE7B,IAAA,IAAM,4BAA4B,GAAGC,YAAM,CAEzC,EAAE,CAAC,CAAC;AACN,IAAAD,eAAS,CAAC,YAAA;QACT,IAAI,kBAAkB,EAAE;YACvB,OAAO;SACP;AAED,QAAA,IAAI,KAAqB,CAAC;AAE1B,QAAA,IAAM,aAAa,GAAG,YAAA;YACrB,KAAK,GAAG,UAAU,CAAC,YAAA;gBAClB,IAAI,aAAa,GAAG,CAAC;AAAE,oBAAA,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBACpD,SAAS,CAAC,KAAK,EAAE,CAAC;aAClB,EAAE,KAAK,CAAC,CAAC;AACX,SAAC,CAAC;AAEF,QAAA,IAAM,YAAY,GAAG,YAAA;AACpB,YAAA,IAAI,KAAK;gBAAE,YAAY,CAAC,KAAK,CAAC,CAAC;YAC/B,KAAK,GAAG,UAAU,CAAC,YAAA;AAClB,gBAAA,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;oBAAE,OAAO;gBACnC,SAAS,CAAC,IAAI,EAAE,CAAC;aACjB,EAAE,SAAS,CAAC,CAAC;AACf,SAAC,CAAC;QAEF,IAAM,iBAAiB,GAAG,UAAC,KAAiB,EAAA;;;YAE3C,IAAI,KAAK,CAAC,gBAAgB;gBAAE,OAAO;AAEnC,YAAA,IAAM,aAAa,GAAG,KAAK,CAAC,aAEd,CAAC;AACf,YAAA,IAAM,MAAM,GAAG,KAAK,CAAC,MAA+B,CAAC;AACrD,YAAA,IAAI,eAAe,GAClB,CAAA,MAAM,aAAN,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAN,MAAM,CAAE,YAAY,CAAC,wBAAwB,CAAC,MAAK,MAAM;AACzD,gBAAA,CAAA,aAAa,KAAA,IAAA,IAAb,aAAa,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAb,aAAa,CAAE,YAAY,CAAC,wBAAwB,CAAC,MAAK,MAAM,CAAC;YAElE,IAAI,CAAC,eAAe,EAAE;gBACrB,IAAI,OAAO,GAAiC,MAAM,CAAC;gBAEnD,OAAO,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,GAAG,EAAE;oBACxD,IACC,CAAA,MAAA,OAAO,CAAC,aAAa,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,YAAY,CAAC,wBAAwB,CAAC;AAC7D,wBAAA,MAAM,EACL;wBACD,eAAe,GAAG,IAAI,CAAC;wBACvB,MAAM;qBACN;AACD,oBAAA,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC;iBAChC;aACD;AAED,YAAA,IAAI,eAAe;gBAAE,OAAO;YAE5B,IAAM,YAAY,GAAG,iBAAiB,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;;YAEhE,IAAI,YAAY,KAAK,QAAQ;gBAAE,OAAO;;AAGtC,YAAA,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM;gBACnE,OAAO;YAER,IAAM,UAAU,GAAG,iBAAiB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YAC5D,IAAM,SAAS,GAAG,kBAAkB;kBACjC,kBAAkB,CAAC,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC;AACzC,kBAAE,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC;YACvB,IAAM,UAAU,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAE1C,YAAA,IACC,cAAc;AACd,gBAAA,sBAAsB,CAAC,SAAS,EAAE,UAAU,CAAC;gBAC7C,cAAc;gBAEd,OAAO;AACR,YAAA,IAAI,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC,IAAI,cAAc;gBAAE,OAAO;AAE/D,YAAA,aAAa,EAAE,CAAC;AACjB,SAAC,CAAC;AAEF,QAAA,IAAM,cAAc,GAAqB,YAAA;AACxC,YAAA,IAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAG7D,CAAC;AAEJ,YAAA,IAAM,mBAAmB,GAAG,cAAc,CAAC,MAAM,CAAC,UAAC,MAAM,EAAA;gBACxD,IAAM,IAAI,GAAG,iBAAiB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBAC/C,IAAM,mBAAmB,GACxB,MAAM,CAAC,YAAY,CAAC,wBAAwB,CAAC,KAAK,MAAM,CAAC;gBAC1D,IAAM,gBAAgB,GACrB,IAAI;AACJ,oBAAA,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AACxB,oBAAA,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;AAC3B,oBAAA,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;AACzB,oBAAA,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;gBAEjC,QACC,CAAC,mBAAmB;oBACpB,gBAAgB;oBAChB,iBAAiB,CAAC,MAAM,EAAE,QAAQ,CAAC,KAAK,QAAQ,EAC/C;AACH,aAAC,CAAC,CAAC;AAEH,YAAA,mBAAmB,CAAC,OAAO,CAAC,UAAC,MAAM,EAAA;gBAClC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,iBAAiB,EAAE,IAAI,CAAC,CAAC;AAC3D,aAAC,CAAC,CAAC;AACH,YAAA,4BAA4B,CAAC,OAAO,GAAG,mBAAmB,CAAC;AAC5D,SAAC,CAAC;AAEF,QAAA,IAAM,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,cAAc,CAAC,CAAC;AAC9D,QAAA,gBAAgB,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;AAEvE,QAAA,IAAM,8BAA8B,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC;AAChE,QAAA,MAAM,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE;AAC9D,YAAA,KAAK,EAAE,UAAC,MAAM,EAAE,OAAO,EAAE,QAAwB,EAAA;AAChD,gBAAA,YAAY,EAAE,CAAC;gBACf,OAAO,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;aACvC;AACD,SAAA,CAAC,CAAC;QAEH,OAAO,YAAA;YACN,gBAAgB,CAAC,UAAU,EAAE,CAAC;AAC9B,YAAA,4BAA4B,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM,EAAA;gBACnD,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,iBAAiB,EAAE,IAAI,CAAC,CAAC;AAC9D,aAAC,CAAC,CAAC;AACH,YAAA,4BAA4B,CAAC,OAAO,GAAG,EAAE,CAAC;AAC1C,YAAA,MAAM,CAAC,OAAO,CAAC,SAAS,GAAG,8BAA8B,CAAC;AAC3D,SAAC,CAAC;AACH,KAAC,EAAE;QACF,kBAAkB;QAClB,kBAAkB;QAClB,cAAc;QACd,cAAc;AACd,KAAA,CAAC,CAAC;AAEH,IAAA,OAAO,MAAM,CAAC;AACf,CAAC,EACD,UAAC,SAAS,EAAE,SAAS,EAAA;IACpB,IAAI,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,IAAI,MAAK,KAAK,EAAE;AAC9B,QAAA,OAAO,KAAK,CAAC;KACb;IAED,IAAI,EAAC,SAAS,KAAT,IAAA,IAAA,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,yBAAyB,CAAA,EAAE;AAC1C,QAAA,OAAO,IAAI,CAAC;KACZ;AAED,IAAA,QACC,CAAA,SAAS,KAAT,IAAA,IAAA,SAAS,uBAAT,SAAS,CAAE,KAAK,OAAK,SAAS,KAAT,IAAA,IAAA,SAAS,uBAAT,SAAS,CAAE,KAAK,CAAA;AACrC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,MAAM,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,MAAM,CAAA;AACvC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,CAAA;AACvD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,aAAa,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,aAAa,CAAA;AACrD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,CAAA;AACrC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,CAAA;AACvD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,SAAS,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,SAAS,CAAA;AAC7C,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,CAAA;QACrC,IAAI,CAAC,SAAS,CAAC,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC;AAClC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,CAAA;AACrC,QAAA,SAAS,CAAC,kBAAkB,KAAK,SAAS,CAAC,kBAAkB,EAC5D;AACH,CAAC,CACD,CAAC;AAEFH,gBAAc,CAAC,WAAW,GAAG,gBAAgB,CAAC;AAExC,SAAU,SAAS,CAAC,YAAsC,EAAA;IAC/D,IAAM,iBAAiB,GAAGK,iBAAW,CAAC,YAAA;AACrC,QAAA,IAAI,YAAY;YAAE,OAAO,YAAY,EAAE,CAAC;QACxC,OAAOC,oBAAa,EAAE,CAAC;AACxB,KAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;AAEnB,IAAA,IAAM,MAAM,GAAG,iBAAiB,EAAE,CAAC;AAEnC,IAAA,IAAM,aAAa,GAAGD,iBAAW,CAChC,UAAC,aAAsB,EAAA;AACtB,QAAA,IAAI,aAAa,IAAI,aAAa,GAAG,CAAC;AAAE,YAAA,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACrE,SAAS,CAAC,KAAK,EAAE,CAAC;AACnB,KAAC,EACD,CAAC,MAAM,CAAC,CACR,CAAC;IAEF,IAAM,QAAQ,GAAGA,iBAAW,CAC3B,UACC,IAAY,EACZ,OAAyB,EACzB,gBAAyC,EAAA;QAEzC,IAAI,CAAA,gBAAgB,KAAA,IAAA,IAAhB,gBAAgB,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhB,gBAAgB,CAAE,eAAe,MAAK,KAAK,EAAE;YAChD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;SAClC;QAED,IAAM,UAAU,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;AAE/C,QAAA,IACC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC;YAChC,CAAA,gBAAgB,aAAhB,gBAAgB,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhB,gBAAgB,CAAE,cAAc,MAAK,KAAK;YAE1C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAEnC,aAAa,CAAC,gBAAgB,KAAhB,IAAA,IAAA,gBAAgB,uBAAhB,gBAAgB,CAAE,aAAa,CAAC,CAAC;AAChD,KAAC,EACD,CAAC,MAAM,CAAC,CACR,CAAC;IAEF,IAAM,IAAI,GAAGA,iBAAW,CACvB,UACC,IAAY,EACZ,OAAyB,EACzB,gBAAyC,EAAA;AAEzC,QAAA,QAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,gBAAgB,CAAC,CAAC;QAC1C,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACnC,KAAC,EACD,CAAC,MAAM,EAAE,aAAa,CAAC,CACvB,CAAC;IAEF,IAAM,OAAO,GAAGA,iBAAW,CAC1B,UACC,IAAY,EACZ,OAAyB,EACzB,gBAAyC,EAAA;AAEzC,QAAA,QAAQ,CAAC,IAAI,EAAE,OAAO,EAAE,gBAAgB,CAAC,CAAC;QAC1C,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACtC,KAAC,EACD,CAAC,MAAM,EAAE,aAAa,CAAC,CACvB,CAAC;AAEF,IAAA,IAAM,IAAI,GAAGA,iBAAW,CACvB,UAAC,gBAAyC,EAAA;QACzC,IAAI,CAAA,gBAAgB,KAAhB,IAAA,IAAA,gBAAgB,uBAAhB,gBAAgB,CAAE,eAAe,MAAK,KAAK;AAAE,YAAA,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC;QAEtE,aAAa,CAAC,gBAAgB,KAAhB,IAAA,IAAA,gBAAgB,uBAAhB,gBAAgB,CAAE,aAAa,CAAC,CAAC;AAE/C,QAAA,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC;AACtB,KAAC,EACD,CAAC,MAAM,CAAC,CACR,CAAC;IAEF,IAAM,cAAc,GAAGE,aAAO,CAAC,YAAA;QAC9B,OAAY,QAAA,CAAA,QAAA,CAAA,EAAA,EAAA,MAAM,CAAE,EAAA,EAAA,IAAI,EAAA,IAAA,EAAE,OAAO,EAAA,OAAA,EAAE,IAAI,EAAA,IAAA,EAAG,CAAA,CAAA;KAC1C,EAAE,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;AAElC,IAAA,OAAO,cAAc,CAAC;AACvB;;ACvXwB,SAAA,YAAY,CAClC,SAA2B,EAAA;IAE3B,OAAO,SAAS,qBAAqB,CAAC,KAAQ,EAAA;QAC5C,QACE,oBAACC,cAAQ,EAAA,IAAA;AACP,YAAA,KAAA,CAAA,aAAA,CAAC,SAAS,EAAK,QAAA,CAAA,EAAA,EAAA,KAAK,CAAI,CAAA,CACf,EACX;AACJ,KAAC,CAAC;AACJ;;ICNa,gBAAgB,GAAG,KAAK,CAAC,IAAI,CACzC,UAAC,EAWqE,EAAA;QAVrE,EAAiB,GAAA,EAAA,CAAA,KAAA,EAAjB,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,SAAS,GAAA,EAAA,EACjB,EAAc,GAAA,EAAA,CAAA,MAAA,EAAd,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,EACd,OAAO,GAAA,EAAA,CAAA,OAAA,EACP,EAAA,GAAA,EAAA,CAAA,cAAsB,EAAtB,cAAc,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,KAAK,GAAA,EAAA,EACtB,EAAqB,GAAA,EAAA,CAAA,cAAA,EAArB,cAAc,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,IAAI,GAAA,EAAA,EACrB,EAAiB,GAAA,EAAA,CAAA,aAAA,EAAjB,aAAa,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAC,GAAA,EAAA,EACjB,EAAA,GAAA,EAAA,CAAA,KAAS,EAAT,KAAK,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,KAAA,EACT,EAAA,GAAA,EAAA,CAAA,SAAa,EAAb,SAAS,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EACb,KAAK,GAAA,EAAA,CAAA,KAAA,EACL,KAAK,GAAA,EAAA,CAAA,KAAA,CAAA;AAEL,IAAA,IAAM,MAAM,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,IAClC,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,EAAO,KAAK,EAAE,KAAK,IACjB,KAAK;AACL,QAAA,6IAAA,CAAA,MAAA,CAMqB,KAAK,EAAA,iLAAA,CAAA,CAAA,MAAA,CAQT,MAAM,EAAA,4QAAA,CAAA,CAAA,MAAA,CAUO,KAAK,EAAa,YAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EAuB1B,+tBAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EACJ,oCAAA,CAAA,CAAA,MAAA,CAAA,KAAK,EAyB7B,m1BAAA,CAAA,CACE,CACR,CAAC;AAEF,IAAA,SAAS,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;AAEnC,IAAAL,eAAS,CAAC,YAAA;AACT,QAAA,IAAI,KAAqB,CAAC;AAE1B,QAAA,IAAM,aAAa,GAAG,YAAA;YACrB,KAAK,GAAG,UAAU,CAAC,YAAA;gBAClB,IAAI,aAAa,GAAG,CAAC;AAAE,oBAAA,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBACpD,SAAS,CAAC,KAAK,EAAE,CAAC;aAClB,EAAE,KAAK,CAAC,CAAC;AACX,SAAC,CAAC;AAEF,QAAA,IAAM,YAAY,GAAG,YAAA;AACpB,YAAA,IAAI,KAAK;gBAAE,YAAY,CAAC,KAAK,CAAC,CAAC;YAC/B,KAAK,GAAG,UAAU,CAAC,YAAA;AAClB,gBAAA,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;oBAAE,OAAO;AACnC,gBAAA,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACrB,EAAE,SAAS,CAAC,CAAC;AACf,SAAC,CAAC;QAEF,IAAM,gBAAgB,GAAG,UAAC,GAAW,EAAA;YACpC,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC9C,YAAA,IAAM,UAAU,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;YAExD,IACC,CAAC,CAAC,cAAc;iBACd,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC;AACrD,gBAAA,CAAC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC;AAClC,gBAAA,CAAC,SAAS,CAAC,SAAS,EAAE,EACrB;AACD,gBAAA,aAAa,EAAE,CAAC;aAChB;AACF,SAAC,CAAC;QACF,IAAM,eAAe,GAAG,YAAM,EAAA,OAAA,YAAY,EAAE,CAAA,EAAA,CAAC;QAE7C,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;QACvD,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,eAAe,CAAC,CAAC;QACzD,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC;QAEtD,OAAO,YAAA;;YAEN,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;YACxD,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,EAAE,eAAe,CAAC,CAAC;YAC1D,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC;AACxD,SAAC,CAAC;KACF,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,OAAO,MAAM,CAAC;AACf,CAAC,EACD,UAAC,SAAS,EAAE,SAAS,EAAA;IACpB,IAAI,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,IAAI,MAAK,KAAK,EAAE;AAC9B,QAAA,OAAO,KAAK,CAAC;KACb;IAED,IAAI,EAAC,SAAS,KAAT,IAAA,IAAA,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,yBAAyB,CAAA,EAAE;AAC1C,QAAA,OAAO,IAAI,CAAC;KACZ;AAED,IAAA,QACC,CAAA,SAAS,KAAT,IAAA,IAAA,SAAS,uBAAT,SAAS,CAAE,KAAK,OAAK,SAAS,KAAT,IAAA,IAAA,SAAS,uBAAT,SAAS,CAAE,KAAK,CAAA;AACrC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,MAAM,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,MAAM,CAAA;AACvC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,CAAA;AACvD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,aAAa,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,aAAa,CAAA;AACrD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,CAAA;AACrC,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,cAAc,CAAA;AACvD,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,SAAS,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,SAAS,CAAA;AAC7C,QAAA,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,OAAK,SAAS,aAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,KAAK,CAAA;QACrC,IAAI,CAAC,SAAS,CAAC,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,OAAO,CAAC;AAClC,QAAA,CAAA,SAAS,KAAT,IAAA,IAAA,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,KAAK,OAAK,SAAS,KAAA,IAAA,IAAT,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,KAAK,CAAA,EACpC;AACH,CAAC,EACA;AAEF,gBAAgB,CAAC,WAAW,GAAG,kBAAkB;;AClHpC,IAAA,aAAa,GAAG,YAAA;AAC5B,IAAAM,eAAK,EAAE,CAAC;AACT,EAAE;AAEK,IAAM,YAAY,GAAG,UAAC,KAAe,EAAA;IAC3CC,cAAI,CAAC,KAAK,CAAC,CAAC;AACb,EAAE;AAEF,IAAM,cAAc,GAAG,YAAY,CAAmBC,gBAAuB;;;;;;;;"}